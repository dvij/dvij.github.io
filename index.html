<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krishnamurthy (Dj) Dvijotham - Research Lead</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            margin-bottom: 2rem;
            padding: 1rem;
            background-color: #f4f4f4;
            border-radius: 10px;
        }
        .profile-pic {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 1rem;
        }
        h1 {
            font-size: 2rem;
            margin: 0.5rem 0;
        }
        .job-title {
            font-size: 1.2rem;
            color: #666;
            margin: 0.5rem 0;
        }
        .affiliation {
            font-size: 1.2rem;
            color: #4285F4;
            margin: 0.5rem 0;
        }
        .contact-icons {
            margin-top: 1rem;
        }
        .contact-icons a {
            margin: 0 0.5rem;
            text-decoration: none;
        }
        .contact-icons img {
            width: 24px;
            height: 24px;
        }
        nav {
            background-color: #333;
            color: white;
            padding: 0.5rem;
            margin-bottom: 1rem;
        }
        nav ul {
            list-style-type: none;
            padding: 0;
            display: flex;
            justify-content: space-around;
        }
        nav ul li a {
            color: white;
            text-decoration: none;
        }
        section {
            margin-bottom: 2rem;
        }
        .project {
            margin-bottom: 1rem;
        }
        .project img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-right: 1rem;
        }
        .citation {
            font-size: 0.8em;
            vertical-align: super;
        }
        .publication-list {
            list-style-type: none;
            padding: 0;
        }
        .publication-item {
            margin-bottom: 1.5em;
            padding: 1em;
            border-left: 4px solid #4285F4;
            background-color: #f9f9f9;
            transition: all 0.3s ease;
        }
        .publication-item:hover {
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .publication-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 0.5em;
        }
        .publication-authors {
            font-style: italic;
            color: #666;
        }
        .publication-venue {
            color: #4285F4;
        }
        .publication-link {
            display: inline-block;
            margin-top: 0.5em;
            padding: 0.3em 0.6em;
            background-color: #4285F4;
            color: white;
            text-decoration: none;
            border-radius: 3px;
            font-size: 0.9em;
        }
        .publication-link:hover {
            background-color: #3367D6;
        }
        .publication-filters {
            margin-bottom: 1em;
        }
        .filter-button {
            margin-right: 0.5em;
            padding: 0.5em 1em;
            background-color: #f0f0f0;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .filter-button:hover, .filter-button.active {
            background-color: #4285F4;
            color: white;
        }
    </style>
</head>
<body>
    <header>
        <img src="https://raw.githubusercontent.com/dvij/dvij.github.io/master/img/Dj.jpg" alt="Krishnamurthy (Dj) Dvijotham" class="profile-pic">
        <h1>Krishnamurthy (Dj) Dvijotham</h1>
        <p class="job-title">Research Lead, Reliable and Secure AI</p>
        <p class="affiliation">ServiceNow Research</p>
        <div class="contact-icons">
            <a href="mailto:your.email@example.com"><img src="https://raw.githubusercontent.com/dvij/dvij.github.io/master/img/email-icon.png" alt="Email"></a>
            <a href="#"><img src="https://raw.githubusercontent.com/dvij/dvij.github.io/master/img/icon-192.png" alt="Academic Profile"></a>
            <a href="https://github.com/dvij"><img src="https://raw.githubusercontent.com/dvij/dvij.github.io/master/img/github-icon.png" alt="GitHub"></a>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#about">About</a></li>
            <li><a href="#research">Research</a></li>
            <li><a href="#projects">Projects</a></li>
            <li><a href="#publications">Publications</a></li>
            <li><a href="#background">Background</a></li>
        </ul>
    </nav>

    <main>
        <section id="about">
            <h2>About Me</h2>
            <p>I am a Research Lead in Reliable and Secure AI at ServiceNow Research. My work focuses on developing robust and trustworthy artificial intelligence systems, with a particular emphasis on machine learning and its applications in real-world scenarios. Recently, my colleagues and I have made significant progress in the field of adversarial machine learning, demonstrating novel techniques for improving the robustness of deep learning models against adversarial attacks<a href="#citation1" class="citation">[1]</a>.</p>
            <p id="citation1" style="font-size: 0.8em;">[1] Dvijotham, K., Gowal, S., Stanforth, R., Arandjelovic, R., O'Donoghue, B., Uesato, J., & Kohli, P. (2018). <a href="https://arxiv.org/abs/1805.12514" target="_blank">"Training verified learners with learned verifiers."</a> arXiv preprint arXiv:1805.12514.</p>
        </section>

        <section id="research">
            <h2>Research Interests</h2>
            <ul>
                <li>Reliable and Secure AI</li>
                <li>Machine Learning</li>
                <li>Artificial Intelligence</li>
                <li>Robustness and Safety in AI Systems</li>
            </ul>
        </section>

        <section id="projects">
            <h2>Recent Projects</h2>
            <div class="project">
                <img src="https://raw.githubusercontent.com/dvij/dvij.github.io/main/project1.jpg" alt="Adversarial Evaluation Project">
                <div>
                    <h3>Adversarial Evaluation of AI Agents</h3>
                    <p>Developing methods to rigorously test and evaluate AI agents against adversarial scenarios, ensuring robustness and reliability in diverse environments.</p>
                </div>
            </div>
            <div class="project">
                <img src="https://raw.githubusercontent.com/dvij/dvij.github.io/main/project2.jpg" alt="Robust and Private DL Project">
                <div>
                    <h3>Certifiably Robust and Private Deep Learning</h3>
                    <p>Creating deep learning models with provable guarantees for robustness against adversarial attacks and privacy preservation of training data.</p>
                </div>
            </div>
            <div class="project">
                <img src="https://raw.githubusercontent.com/dvij/dvij.github.io/main/project3.jpg" alt="Reliable and Traceable AI Project">
                <div>
                    <h3>Reliable and Traceable AI</h3>
                    <p>Investigating techniques to enhance the reliability of AI systems and improve their traceability, ensuring transparency and accountability in AI decision-making processes.</p>
                </div>
            </div>
        </section>

        <section id="publications">
            <h2>Publications</h2>
            <ul id="publication-list"></ul>
        </section>

        <section id="background">
            <h2>Past Affiliations</h2>
            <ul>
                <li class="affiliation">
                    <h3>Google DeepMind 1</h3>
                    <p>Researcher (2017-2024)</p>
                </li>
                <li class="affiliation">
                    <h3>Pacific Northwest National Laboratory 2</h3>
                    <p>Researcher (2016-2017)</p>
                </li>
                <li class="affiliation">
                    <h3>Postdoctoral Fellow 3</h3>
                    <p>Center for Mathematics of Information, Caltech</p>
                </li>
            </ul>
        </section>
    </main>

 <script>
        // Simple BibTeX parser
        function parseBibtex(bibtex) {
            const entries = [];
            const entryRegex = /@(\w+)\s*\{([^,]*),\s*((?:[^=,\s]+\s*=\s*(?:\{(?:\{.*?\}|.)*?\}|"(?:\\"|[^"])*"|[^,\s]*)\s*,?\s*)*)\}/g;
            const fieldRegex = /(\w+)\s*=\s*(\{(?:\{.*?\}|.)*?\}|"(?:\\"|[^"])*"|[^,\s]*)/g;

            let match;
            while ((match = entryRegex.exec(bibtex)) !== null) {
                const [, type, key, fieldsString] = match;
                const fields = {};
                let fieldMatch;
                while ((fieldMatch = fieldRegex.exec(fieldsString)) !== null) {
                    let [, name, value] = fieldMatch;
                    value = value.replace(/^\{|\}$/g, '').replace(/\\&/g, '&');
                    fields[name.toLowerCase()] = value;
                }
                entries.push({ type, key, fields });
            }
            return entries;
        }

        // Function to fetch and parse BibTeX file
        async function loadPublications() {
            try {
                console.log('Fetching publications.bib...');
                const response = await fetch('https://raw.githubusercontent.com/dvij/dvij.github.io/master/publications.bib');
                const bibtex = await response.text();
                console.log('Fetched bibtex content:', bibtex.substring(0, 100) + '...'); // Log first 100 chars

                console.log('Parsing bibtex...');
                const entries = parseBibtex(bibtex);
                console.log('Parsed entries:', entries);
                displayPublications(entries);
            } catch (error) {
                console.error('Error in loadPublications:', error);
                document.getElementById('publication-list').innerHTML = '<li>Error loading publications. Please check the console for details.</li>';
            }
        }

     function displayPublications(entries, filter = 'all') {
            console.log('Displaying publications...');
            const publicationList = document.getElementById('publication-list');
            publicationList.innerHTML = ''; // Clear existing entries
            
            const currentYear = new Date().getFullYear();
            const filteredEntries = entries.filter(entry => {
                if (filter === 'recent') {
                    return currentYear - parseInt(entry.fields.year) <= 3; // Show last 3 years
                }
                return true; // 'all' filter
            });

            if (filteredEntries.length > 0) {
                filteredEntries.forEach((entry, index) => {
                    console.log(`Processing entry ${index}:`, entry);
                    const li = document.createElement('li');
                    li.className = 'publication-item';
                    li.innerHTML = formatPublication(entry);
                    publicationList.appendChild(li);
                });
                console.log('Publications displayed successfully.');
            } else {
                console.log('No entries to display.');
                publicationList.innerHTML = '<li>No publications found.</li>';
            }
        }

        // Function to format a single publication
        function formatPublication(entry) {
            console.log('Formatting entry:', entry);
            if (!entry || !entry.fields) {
                console.error('Invalid entry:', entry);
                return 'Invalid publication entry';
            }
            const authors = entry.fields.author ? entry.fields.author.split(' and ').join(', ') : 'Unknown Author';
            const title = entry.fields.title ? entry.fields.title.replace(/[{}]/g, '') : 'Untitled';
            const year = entry.fields.year || 'Unknown Year';
            const venue = entry.fields.journal || entry.fields.booktitle || 'Unknown Publication';
            const url = entry.fields.url || '';
            
            let html = `<div class="publication-title">${title}</div>`;
            html += `<div class="publication-authors">${authors}</div>`;
            html += `<div class="publication-venue">${venue}, ${year}</div>`;
            if (url) {
                html += `<a href="${url}" target="_blank" class="publication-link">View Paper</a>`;
            }
            return html;
        }

        // Function to set up publication filters
        function setupPublicationFilters() {
            const filtersHTML = `
                <div class="publication-filters">
                    <button class="filter-button active" data-filter="all">All Publications</button>
                    <button class="filter-button" data-filter="recent">Recent Publications</button>
                </div>
            `;
            document.getElementById('publications').insertAdjacentHTML('afterbegin', filtersHTML);

            // Add event listeners to filter buttons
            document.querySelectorAll('.filter-button').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.filter-button').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    const filter = this.getAttribute('data-filter');
                    loadPublications(filter);
                });
            });
        }

        // Modified loadPublications function
        async function loadPublications(filter = 'all') {
            try {
                console.log('Fetching publications.bib...');
                const response = await fetch('https://raw.githubusercontent.com/dvij/dvij.github.io/master/publications.bib');
                const bibtex = await response.text();
                console.log('Fetched bibtex content:', bibtex.substring(0, 100) + '...'); // Log first 100 chars

                console.log('Parsing bibtex...');
                const entries = parseBibtex(bibtex);
                console.log('Parsed entries:', entries);
                displayPublications(entries, filter);
            } catch (error) {
                console.error('Error in loadPublications:', error);
                document.getElementById('publication-list').innerHTML = '<li>Error loading publications. Please check the console for details.</li>';
            }
        }

        // Load publications when the page loads
        window.onload = function() {
            console.log('Window loaded, setting up filters and loading publications...');
            setupPublicationFilters();
            loadPublications();
        };
    </script>
</body>
</html>
